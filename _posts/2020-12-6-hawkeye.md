---
layout: post
title: 鹰眼：
author: Weizhou Huang
tags:
 - Asplos
 - 2019
 - Virtual memory
 - Huge pages
---

# HawkEye: Efficient Fine-grained OS Support for Huge Pages

[文章来源](https://www.cse.iitd.ernet.in/~sbansal/pubs/hawkeye.pdf) 

本文分析了主流大页映射机制存在的局限性，并提出了hawkeye大页映射机制，在地址转换开销与内存膨胀，缺页异常处理时延与缺页异常的次数，物理大页资源分配的公平性这三点上做出了平衡。

## 背景和问题：
对于内存占用大的现代应用来说，地址转换开销备受关注。对于这一类应用而言，大页映射机制可以有效降低地址转换开销。

问题在于，现有大页映射机制(Linux THP, FreeeBSD, Ingens)并不能提供让人满意的性能，具体来说，它们需要在地址转换开销，物理内存占用量，缺页异常的处理延时和应用之间的内存资源公平分配以及算法自身的开销之间做出复杂的取舍。

## 研究动机：
本文对几个主流大页机制分析了大页映射的问题，即会面临以下几个问题之间的抉择和平衡。本文的**研究动机**是提出一个大页管理系统能同时解决这些问题，而不需要做出取舍。



**地址转换开销与内存膨胀** 
  
使用大页映射能够减少映射条目，提升MMU（包括TLB）整体效率，从而降低地址转换的开销，但是当分配的物理大页的使用率较低时，会出现内存膨胀(memory bloat)的问题。

一个理想的策略应该在空闲内存多时尽可能分配物理大页，而在空闲内存少时有效地回收未被充分利用的物理大页。


**缺页异常处理时延与缺页异常的次数**

当第一次访问一段进程的虚拟地址空间时，会因没有分配物理内存而触发缺页异常。操作系统在处理缺页异常时通常需要先清零物理页面，然后才能将其映射到进程的虚拟地址空间，以防止信息泄露或程序本崩溃。清零页面对于大页(如2MB)来说开销更高，高达缺页异常处理时延的97%。一种方法是


**物理大页资源分配的公平性**




## 设计：





## 实验：

